{% extends "base.html" %}

{% block title %}New Repository - OpenXet{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 40px auto;">
    <h2 style="margin-bottom: 20px; color: #e0e0e0;">Create a new repository</h2>

    {% if error %}
    <div style="background: #3d1a1a; border: 1px solid #633; padding: 10px 12px; border-radius: 4px; margin-bottom: 16px; color: #f88; font-size: 12px;">
        {{ error }}
    </div>
    {% endif %}

    <div class="card">
        <form method="POST" action="/-/new" style="padding: 16px;">
            <div style="margin-bottom: 16px;">
                <label style="display: block; margin-bottom: 8px; font-size: 13px; color: #e0e0e0;">Repository name</label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span style="color: #999; font-size: 13px;">{{ current_user }} /</span>
                    <input type="text" name="name" required autofocus
                        pattern="[a-zA-Z0-9._-]+"
                        minlength="2"
                        placeholder="my-model"
                        class="edit-input" style="flex: 1;">
                </div>
                <small style="color: #666; font-size: 11px; margin-top: 6px; display: block;">
                    Letters, numbers, dashes, underscores, and dots only
                </small>
            </div>

            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <a href="/" class="btn">Cancel</a>
                <button type="submit" class="btn btn-primary">Create repository</button>
            </div>
        </form>
    </div>

    <div class="card" style="margin-top: 16px;">
        <div class="card-header">Quick Start</div>
        <div style="padding: 12px; font-size: 12px;">
            <p class="text-muted" style="margin-bottom: 8px;">After creating the repository, push your files:</p>
            <pre style="background: #1a1a1a; padding: 10px; border-radius: 4px; overflow-x: auto;">cd your-project
git init
git add .
git commit -m "Initial commit"
git remote add origin http://localhost:8080/{{ current_user }}/your-repo.git
git push -u origin main</pre>
        </div>
    </div>
</div>
{% endblock %}
