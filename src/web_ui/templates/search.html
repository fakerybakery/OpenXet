{% extends "base.html" %}
{% block title %}{% if query %}{{ query }} - Search{% else %}Search{% endif %} - OpenXet{% endblock %}

{% block content %}
<div class="flex items-center justify-between mb-3">
    <h2 style="font-size: 18px; font-weight: 600;">
        {% if query %}
        Search results for "{{ query }}"
        {% else %}
        Search
        {% endif %}
    </h2>
    <span class="text-sm text-secondary">{{ result_count }} result{% if result_count != 1 %}s{% endif %}</span>
</div>

<div class="card">
    {% if results %}
    <ul class="list">
        {% for result in results %}
        <li class="list-item">
            <div class="search-result-icon" style="width: 32px; height: 32px; border-radius: 4px; background: var(--bg-elevated); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="color: var(--text-muted);">
                    <path d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8z"/>
                </svg>
            </div>
            <div style="flex: 1; min-width: 0;">
                <a href="/{{ result.name }}" style="font-weight: 500;">{{ result.name }}</a>
                {% if result.description %}
                <div class="text-sm text-muted truncate mt-1">{{ result.description }}</div>
                {% endif %}
            </div>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="empty">
        {% if query %}
        <p class="mb-2">No repositories found matching "{{ query }}"</p>
        <p class="text-sm text-secondary">Try a different search term</p>
        {% else %}
        <p>Enter a search term to find repositories</p>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}
